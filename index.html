<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Waste Detection AI - Sistema de Detecci√≥n de Desechos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', system-ui, sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useCallback, useRef, useEffect } = React;

        // ===============================================kubectl get pods -n waste-detection -w=============
        // CONFIGURACI√ìN - CAMBIAR POR LA IP REAL DEL LOAD BALANCER
        // ============================================================
        // Ejemplo: const API_BASE_URL = 'http://34.123.45.67:8000';
        const API_BASE_URL = '__API_URL__';
        
        // Modo demo: si no puede conectar a la API, usa datos simulados
        let DEMO_MODE = false;

        // Colores y iconos por clase
        const CLASS_COLORS = {
            biodegradable: '#10B981',
            cardboard: '#8B5CF6',
            glass: '#06B6D4',
            metal: '#6B7280',
            paper: '#F59E0B',
            plastic: '#3B82F6',
        };

        const CLASS_ICONS = {
            biodegradable: 'üçé',
            cardboard: 'üì¶',
            glass: 'üçæ',
            metal: 'ü•´',
            paper: 'üìÑ',
            plastic: 'üß¥'
        };

        // Iconos SVG inline
        const Icons = {
            Upload: () => <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
            Trash2: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>,
            Camera: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>,
            BarChart: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>,
            Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
            CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            XCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>,
            Loader: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="animate-spin"><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"/><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"/><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"/></svg>,
            Zap: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            RefreshCw: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>,
            Clock: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Image: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>,
            Server: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/><line x1="6" y1="6" x2="6.01" y2="6"/><line x1="6" y1="18" x2="6.01" y2="18"/></svg>,
            Database: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/></svg>
        };

        function WasteDetectionApp() {
            const [activeTab, setActiveTab] = useState('detect');
            const [image, setImage] = useState(null);
            const [imagePreview, setImagePreview] = useState(null);
            const [detections, setDetections] = useState(null);
            const [loading, setLoading] = useState(false);
            const [error, setError] = useState(null);
            const [health, setHealth] = useState({ status: 'demo', model_loaded: true, database_connected: true, storage_connected: true, model_version: 'v20250130_demo' });
            const [metrics, setMetrics] = useState({ total_inferences: 1247, avg_inference_time_ms: 45.3, requests_last_hour: 89, uptime_seconds: 86400 });
            const [history, setHistory] = useState([]);
            const fileInputRef = useRef(null);
            const canvasRef = useRef(null);

            useEffect(() => {
                if (detections && imagePreview && canvasRef.current) {
                    drawDetections();
                }
            }, [detections, imagePreview]);

            // Cargar health y metrics al iniciar
            useEffect(() => {
                const checkHealth = async () => {
                    try {
                        const response = await fetch(`${API_BASE_URL}/health`);
                        if (response.ok) {
                            const data = await response.json();
                            setHealth(data);
                        }
                    } catch (err) {
                        console.error('Error checking health:', err);
                        setHealth(prev => ({ ...prev, status: 'offline' }));
                    }
                };

                const fetchMetrics = async () => {
                    try {
                        const response = await fetch(`${API_BASE_URL}/metrics`);
                        if (response.ok) {
                            const data = await response.json();
                            setMetrics(data);
                        }
                    } catch (err) {
                        console.error('Error fetching metrics:', err);
                    }
                };

                checkHealth();
                fetchMetrics();

                // Actualizar cada 30 segundos
                const interval = setInterval(() => {
                    checkHealth();
                    fetchMetrics();
                }, 30000);

                return () => clearInterval(interval);
            }, []);

            const handleFileSelect = useCallback((e) => {
                const file = e.target.files?.[0];
                if (file) {
                    setImage(file);
                    setDetections(null);
                    setError(null);
                    const reader = new FileReader();
                    reader.onload = (e) => setImagePreview(e.target.result);
                    reader.readAsDataURL(file);
                }
            }, []);

            const handleDrop = useCallback((e) => {
                e.preventDefault();
                const file = e.dataTransfer.files?.[0];
                if (file && file.type.startsWith('image/')) {
                    setImage(file);
                    setDetections(null);
                    setError(null);
                    const reader = new FileReader();
                    reader.onload = (e) => setImagePreview(e.target.result);
                    reader.readAsDataURL(file);
                }
            }, []);

            const analyzeImage = async () => {
                if (!image) return;
                setLoading(true);
                setError(null);

                try {
                    const formData = new FormData();
                    formData.append('file', image);

                    const response = await fetch(`${API_BASE_URL}/predict?save_image=true`, {
                        method: 'POST',
                        body: formData
                    });

                    if (!response.ok) {
                        throw new Error(`Error ${response.status}: ${response.statusText}`);
                    }

                    const result = await response.json();
                    setDetections(result);
                    setHistory(prev => [{
                        id: result.request_id,
                        timestamp: new Date().toLocaleString(),
                        detections: result.detection_count,
                        time_ms: result.inference_time_ms
                    }, ...prev.slice(0, 9)]);
                } catch (err) {
                    console.error('Error en inferencia:', err);
                    setError(`Error al analizar imagen: ${err.message}`);
                } finally {
                    setLoading(false);
                }
            };

            const drawDetections = () => {
                const canvas = canvasRef.current;
                const ctx = canvas.getContext('2d');
                const img = new Image();
                
                img.onload = () => {
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    
                    detections.detections.forEach((det) => {
                        const [x1, y1, x2, y2] = det.bbox;
                        const color = CLASS_COLORS[det.class_name] || '#3B82F6';
                        
                        ctx.strokeStyle = color;
                        ctx.lineWidth = 3;
                        ctx.strokeRect(x1, y1, x2 - x1, y2 - y1);
                        
                        const label = `${CLASS_ICONS[det.class_name] || ''} ${det.class_name} ${(det.confidence * 100).toFixed(1)}%`;
                        ctx.font = 'bold 14px Arial';
                        const textWidth = ctx.measureText(label).width;
                        ctx.fillStyle = color;
                        ctx.fillRect(x1, y1 - 22, textWidth + 10, 22);
                        
                        ctx.fillStyle = 'white';
                        ctx.fillText(label, x1 + 5, y1 - 6);
                    });
                };
                img.src = imagePreview;
            };

            const clearImage = () => {
                setImage(null);
                setImagePreview(null);
                setDetections(null);
                setError(null);
                if (fileInputRef.current) fileInputRef.current.value = '';
            };

            const StatusBadge = ({ status }) => {
                const isHealthy = status === 'healthy' || status === 'demo';
                return (
                    <span className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${
                        isHealthy ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
                    }`}>
                        {isHealthy ? <Icons.CheckCircle /> : <Icons.XCircle />}
                        {status === 'demo' ? 'Demo Mode' : status}
                    </span>
                );
            };

            return (
                <div className="min-h-screen">
                    {/* Header */}
                    <header className="bg-slate-800/50 backdrop-blur-lg border-b border-slate-700/50">
                        <div className="max-w-7xl mx-auto px-4 py-4">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center gap-3">
                                    <div className="w-10 h-10 bg-gradient-to-br from-green-400 to-emerald-600 rounded-xl flex items-center justify-center text-white">
                                        <Icons.Trash2 />
                                    </div>
                                    <div>
                                        <h1 className="text-xl font-bold text-white">Waste Detection AI</h1>
                                        <p className="text-xs text-slate-400">Sistema de clasificaci√≥n con YOLOv8</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-4">
                                    <StatusBadge status={health?.status || 'unknown'} />
                                    <button 
                                        onClick={async () => {
                                            try {
                                                const [healthRes, metricsRes] = await Promise.all([
                                                    fetch(`${API_BASE_URL}/health`),
                                                    fetch(`${API_BASE_URL}/metrics`)
                                                ]);
                                                if (healthRes.ok) setHealth(await healthRes.json());
                                                if (metricsRes.ok) setMetrics(await metricsRes.json());
                                            } catch (err) {
                                                console.error('Error refreshing:', err);
                                            }
                                        }}
                                        className="p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors"
                                    >
                                        <Icons.RefreshCw />
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>

                    {/* Navigation */}
                    <div className="max-w-7xl mx-auto px-4 mt-6">
                        <div className="flex gap-2 bg-slate-800/50 p-1 rounded-xl w-fit">
                            {[
                                { id: 'detect', label: 'Detectar', icon: Icons.Camera },
                                { id: 'metrics', label: 'M√©tricas', icon: Icons.BarChart },
                                { id: 'status', label: 'Estado', icon: Icons.Activity },
                            ].map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${
                                        activeTab === tab.id
                                            ? 'bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg'
                                            : 'text-slate-400 hover:text-white hover:bg-slate-700/50'
                                    }`}
                                >
                                    <tab.icon />
                                    {tab.label}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Main Content */}
                    <main className="max-w-7xl mx-auto px-4 py-8">
                        {activeTab === 'detect' && (
                            <div className="grid lg:grid-cols-2 gap-8">
                                {/* Upload */}
                                <div className="space-y-6">
                                    <div
                                        onDrop={handleDrop}
                                        onDragOver={(e) => e.preventDefault()}
                                        onClick={() => fileInputRef.current?.click()}
                                        className={`relative border-2 border-dashed rounded-2xl p-8 text-center cursor-pointer transition-all ${
                                            imagePreview
                                                ? 'border-green-500/50 bg-green-500/5'
                                                : 'border-slate-600 hover:border-slate-500 bg-slate-800/30'
                                        }`}
                                    >
                                        <input ref={fileInputRef} type="file" accept="image/*" onChange={handleFileSelect} className="hidden" />
                                        
                                        {imagePreview ? (
                                            <div className="relative">
                                                {detections ? (
                                                    <canvas ref={canvasRef} className="max-w-full h-auto rounded-xl mx-auto" style={{ maxHeight: '400px' }} />
                                                ) : (
                                                    <img src={imagePreview} alt="Preview" className="max-w-full max-h-96 rounded-xl mx-auto" />
                                                )}
                                                <button
                                                    onClick={(e) => { e.stopPropagation(); clearImage(); }}
                                                    className="absolute top-2 right-2 p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors"
                                                >
                                                    <Icons.XCircle />
                                                </button>
                                            </div>
                                        ) : (
                                            <div className="py-12">
                                                <div className="w-16 h-16 bg-slate-700/50 rounded-2xl flex items-center justify-center mx-auto mb-4 text-slate-400">
                                                    <Icons.Upload />
                                                </div>
                                                <p className="text-slate-300 font-medium mb-2">Arrastra una imagen o haz clic para seleccionar</p>
                                                <p className="text-slate-500 text-sm">Soporta JPG, PNG, WEBP</p>
                                            </div>
                                        )}
                                    </div>

                                    <button
                                        onClick={analyzeImage}
                                        disabled={!image || loading}
                                        className={`w-full py-4 rounded-xl font-semibold text-lg flex items-center justify-center gap-3 transition-all ${
                                            !image || loading
                                                ? 'bg-slate-700 text-slate-500 cursor-not-allowed'
                                                : 'bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:shadow-lg hover:shadow-green-500/25'
                                        }`}
                                    >
                                        {loading ? <><Icons.Loader /> Analizando...</> : <><Icons.Zap /> Analizar Imagen</>}
                                    </button>

                                    {error && (
                                        <div className="bg-red-500/10 border border-red-500/30 rounded-xl p-4 text-red-400">
                                            <p className="font-medium">Error en el an√°lisis</p>
                                            <p className="text-sm mt-1">{error}</p>
                                        </div>
                                    )}
                                </div>

                                {/* Results */}
                                <div className="space-y-6">
                                    <div className="bg-slate-800/50 backdrop-blur rounded-2xl p-6 border border-slate-700/50">
                                        <h3 className="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                                            <span className="text-green-400"><Icons.Image /></span>
                                            Resultados de Detecci√≥n
                                        </h3>
                                        
                                        {detections ? (
                                            <div className="space-y-4">
                                                <div className="grid grid-cols-3 gap-4">
                                                    <div className="bg-slate-700/50 rounded-xl p-3 text-center">
                                                        <p className="text-2xl font-bold text-white">{detections.detection_count}</p>
                                                        <p className="text-xs text-slate-400">Objetos</p>
                                                    </div>
                                                    <div className="bg-slate-700/50 rounded-xl p-3 text-center">
                                                        <p className="text-2xl font-bold text-white">{detections.inference_time_ms.toFixed(0)}</p>
                                                        <p className="text-xs text-slate-400">ms</p>
                                                    </div>
                                                    <div className="bg-slate-700/50 rounded-xl p-3 text-center">
                                                        <p className="text-lg font-bold text-white truncate">{detections.model_version}</p>
                                                        <p className="text-xs text-slate-400">Modelo</p>
                                                    </div>
                                                </div>

                                                <div className="space-y-2 max-h-64 overflow-y-auto">
                                                    {detections.detections.map((det, idx) => (
                                                        <div key={idx} className="flex items-center justify-between bg-slate-700/30 rounded-lg p-3">
                                                            <div className="flex items-center gap-3">
                                                                <span className="text-2xl">{CLASS_ICONS[det.class_name] || 'üì¶'}</span>
                                                                <div>
                                                                    <p className="font-medium text-white capitalize">{det.class_name}</p>
                                                                    <p className="text-xs text-slate-400">{det.bbox.map(b => b.toFixed(0)).join(', ')}</p>
                                                                </div>
                                                            </div>
                                                            <div className="px-3 py-1 rounded-full text-sm font-semibold"
                                                                style={{ backgroundColor: `${CLASS_COLORS[det.class_name]}20`, color: CLASS_COLORS[det.class_name] }}>
                                                                {(det.confidence * 100).toFixed(1)}%
                                                            </div>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                        ) : (
                                            <div className="text-center py-12 text-slate-500">
                                                <span className="block mx-auto mb-4 opacity-50"><Icons.Image /></span>
                                                <p>Sube una imagen para ver los resultados</p>
                                            </div>
                                        )}
                                    </div>

                                    {history.length > 0 && (
                                        <div className="bg-slate-800/50 backdrop-blur rounded-2xl p-6 border border-slate-700/50">
                                            <h3 className="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                                                <span className="text-blue-400"><Icons.Clock /></span>
                                                Historial Reciente
                                            </h3>
                                            <div className="space-y-2">
                                                {history.map((item, idx) => (
                                                    <div key={idx} className="flex items-center justify-between bg-slate-700/30 rounded-lg p-3 text-sm">
                                                        <span className="text-slate-400">{item.timestamp}</span>
                                                        <div className="flex items-center gap-4">
                                                            <span className="text-white">{item.detections} objetos</span>
                                                            <span className="text-slate-400">{item.time_ms.toFixed(0)}ms</span>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        )}

                        {activeTab === 'metrics' && (
                            <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                                <div className="bg-gradient-to-br from-blue-500/20 to-blue-600/10 backdrop-blur rounded-2xl p-6 border border-blue-500/20">
                                    <p className="text-3xl font-bold text-white">{metrics.total_inferences.toLocaleString()}</p>
                                    <p className="text-sm text-slate-400">Total Inferencias</p>
                                </div>
                                <div className="bg-gradient-to-br from-green-500/20 to-green-600/10 backdrop-blur rounded-2xl p-6 border border-green-500/20">
                                    <p className="text-3xl font-bold text-white">{metrics.avg_inference_time_ms.toFixed(1)} ms</p>
                                    <p className="text-sm text-slate-400">Tiempo Promedio</p>
                                </div>
                                <div className="bg-gradient-to-br from-purple-500/20 to-purple-600/10 backdrop-blur rounded-2xl p-6 border border-purple-500/20">
                                    <p className="text-3xl font-bold text-white">{metrics.requests_last_hour}</p>
                                    <p className="text-sm text-slate-400">√öltima Hora</p>
                                </div>
                                <div className="bg-gradient-to-br from-orange-500/20 to-orange-600/10 backdrop-blur rounded-2xl p-6 border border-orange-500/20">
                                    <p className="text-3xl font-bold text-white">{Math.floor(metrics.uptime_seconds / 3600)}h</p>
                                    <p className="text-sm text-slate-400">Uptime</p>
                                </div>

                                <div className="md:col-span-2 lg:col-span-4 bg-slate-800/50 backdrop-blur rounded-2xl p-6 border border-slate-700/50">
                                    <h3 className="text-lg font-semibold text-white mb-6">Clases de Desechos Soportadas</h3>
                                    <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
                                        {Object.entries(CLASS_COLORS).map(([className, color]) => (
                                            <div key={className} className="bg-slate-700/30 rounded-xl p-4 text-center hover:bg-slate-700/50 transition-colors">
                                                <span className="text-3xl block mb-2">{CLASS_ICONS[className]}</span>
                                                <p className="font-medium capitalize" style={{ color }}>{className}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {activeTab === 'status' && (
                            <div className="grid md:grid-cols-2 gap-6">
                                <div className="bg-slate-800/50 backdrop-blur rounded-2xl p-6 border border-slate-700/50">
                                    <h3 className="text-lg font-semibold text-white mb-6 flex items-center gap-2">
                                        <span className="text-blue-400"><Icons.Server /></span>
                                        Estado del Sistema
                                    </h3>
                                    <div className="space-y-4">
                                        {[
                                            { label: 'API Status', status: health.status, icon: Icons.Activity, color: 'text-green-400' },
                                            { label: 'Modelo Cargado', status: health.model_loaded ? 'healthy' : 'error', icon: Icons.Zap, color: 'text-yellow-400' },
                                            { label: 'Base de Datos', status: health.database_connected ? 'healthy' : 'error', icon: Icons.Database, color: 'text-purple-400' },
                                            { label: 'Storage (GCS)', status: health.storage_connected ? 'healthy' : 'error', icon: Icons.Server, color: 'text-cyan-400' },
                                        ].map((item, idx) => (
                                            <div key={idx} className="flex items-center justify-between p-4 bg-slate-700/30 rounded-xl">
                                                <div className="flex items-center gap-3">
                                                    <span className={item.color}><item.icon /></span>
                                                    <span className="text-slate-300">{item.label}</span>
                                                </div>
                                                <StatusBadge status={item.status} />
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="bg-slate-800/50 backdrop-blur rounded-2xl p-6 border border-slate-700/50">
                                    <h3 className="text-lg font-semibold text-white mb-6">Informaci√≥n del Modelo</h3>
                                    <div className="space-y-4">
                                        {[
                                            { label: 'Versi√≥n Activa', value: health.model_version || 'N/A' },
                                            { label: 'Arquitectura', value: 'YOLOv8n (Nano)' },
                                            { label: 'Clases Detectables', value: '10 tipos de desechos' },
                                            { label: 'Framework', value: 'FastAPI + Ultralytics' },
                                        ].map((item, idx) => (
                                            <div key={idx} className="p-4 bg-slate-700/30 rounded-xl">
                                                <p className="text-sm text-slate-400 mb-1">{item.label}</p>
                                                <p className="text-lg font-semibold text-white">{item.value}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer */}
                    <footer className="border-t border-slate-700/50 mt-12">
                        <div className="max-w-7xl mx-auto px-4 py-6">
                            <p className="text-center text-slate-500 text-sm">
                                Sistema de Detecci√≥n de Desechos ‚Ä¢ YOLOv8 + FastAPI + GKE ‚Ä¢ Trabajo Final Integrador
                            </p>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<WasteDetectionApp />);
    </script>
</body>
</html>
